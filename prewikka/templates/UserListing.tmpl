#extends prewikka.templates.ClassicLayout

#block main_content
<table class="user_list_table">
	<thead>
		<tr>
			<td>Login</td>
			#for $perm in $permissions
				<td>$perm</td>
			#end for
		</tr>
	</thead>
	<tbody>
		#set $row_classes = ("table_row_even", "table_row_odd")
		#set $cnt = 0
		#for $user in $users
			<tr class="$row_classes[$cnt%2]">
				<td>$user.login</td>
				#for $perm in $user.permissions
					#set $perm = ("", "x")[$perm]
					<td>$perm</td>
				#end for
				<td>
					<form action='?' method='get'>
						#for $name, $value in $user.delete_form_hiddens
							<input type='hidden' name='$name' value='$value'/>
						#end for
						<input type='submit' value='delete'/>
					</form>
				</td>
				#if $can_set_password
				<td>
					<form action='?' method='get'>
						#for $name, $value in $user.password_form_hiddens
							<input type='hidden' name='$name' value='$value'/>
						#end for
						<input type='submit' value='password'/>
					</form>
				</td>
				#end if
				<td>
					<form action='?' method='get'>
						#for $name, $value in $user.permissions_form_hiddens
							<input type='hidden' name='$name' value='$value'/>
						#end for
						<input type='submit' value='permissions'/>
					</form>
				</td>
			</tr>
			#set $cnt += 1
		#end for
	</tbody>
</table>
<br/>
<form action='?' method='get'>
	#for $name, $value in $add_form_hiddens
		<input type='hidden' name='$name' value='$value'/>
	#end for
	<input type='submit' value='add user'/>
</form>
#end block main_content
